{% extends 'base.html' %}
{% load humanize %}

{% block head %}
  <meta charset="utf-8">
  <title>Coin Details</title>
  <style>
    .btn_div {
        border-radius: 5px;
        background-color: #f2f2f2;
        padding: 20px;
    }
  </style>
{% endblock %}


{% block body %}
<p><center><img src="/static/Logo.png" alt="BTrade Logo should be here" height="25%" width="25%"></center></p>

<div class="container">
  <h1>Coin: {{ coin_type }}</h1>
  <h2>Current Holdings: {{ units }}</h2>
  <table class="table table-hover">
  <thead>
   <tr>
     <th>Price</th>
     <th>Change/24 Hours</th>
     <th>Volume/24 Hours</th>
     <th>Market Cap</th>
     <th>Time</th>
   </tr>
  </thead>
  <tbody>
   <tr>
     {% for entry in current_price %}
     <td>${{ entry.price|intcomma }}</td>
     <td>{{ entry.change24hour|intcomma }}%</td>
     <td>${{ entry.volume|intcomma }}</td>
     <td>${{ entry.mktcap|intcomma }}</td>
     <td>{{ entry.time|naturaltime}}</td>
     {% endfor %}
   </tr>
   <tr>
     {% for entry in price_15_minutes %}
     <td>${{ entry.price|intcomma }}</td>
     <td>{{ entry.change24hour|intcomma }}%</td>
     <td>${{ entry.volume|intcomma }}</td>
     <td>${{ entry.mktcap|intcomma }}</td>
     <td>{{ entry.time|naturaltime}}</td>
     {% endfor %}
   </tr>
   <tr>
     {% for entry in price_30_minutes %}
     <td>${{ entry.price|intcomma }}</td>
     <td>{{ entry.change24hour|intcomma }}%</td>
     <td>${{ entry.volume|intcomma }}</td>
     <td>${{ entry.mktcap|intcomma }}</td>
     <td>{{ entry.time|naturaltime}}</td>
     {% endfor %}
   </tr>
   <tr>
     {% for entry in price_60_minutes %}
     <td>${{ entry.price|intcomma }}</td>
     <td>{{ entry.change24hour|intcomma }}%</td>
     <td>${{ entry.volume|intcomma }}</td>
     <td>${{ entry.mktcap|intcomma }}</td>
     <td>{{ entry.time|naturaltime}}</td>
     {% endfor %}
   </tr>
   <tr>
     {% for entry in price_6_hours %}
     <td>${{ entry.price|intcomma }}</td>
     <td>{{ entry.change24hour|intcomma }}%</td>
     <td>${{ entry.volume|intcomma }}</td>
     <td>${{ entry.mktcap|intcomma }}</td>
     <td>{{ entry.time|naturaltime}}</td>
     {% endfor %}
   </tr>
   <tr>
     {% for entry in price_12_hours %}
     <td>${{ entry.price|intcomma }}</td>
     <td>{{ entry.change24hour|intcomma }}%</td>
     <td>${{ entry.volume|intcomma }}</td>
     <td>${{ entry.mktcap|intcomma }}</td>
     <td>{{ entry.time|naturaltime}}</td>
     {% endfor %}
   </tr>
   <tr>
     {% for entry in price_24_hours %}
     <td>${{ entry.price|intcomma }}</td>
     <td>{{ entry.change24hour|intcomma }}%</td>
     <td>${{ entry.volume|intcomma }}</td>
     <td>${{ entry.mktcap|intcomma }}</td>
     <td>{{ entry.time|naturaltime}}</td>
     {% endfor %}
   </tr>
  </tbody>
  </table>


  <!-- <table class="table table-hover">
  <thead>
   <tr>
     <th>Price</th>
     <th>24 Hour Volume</th>
     <th>Market Cap</th>
     <th>Time</th>
   </tr>
  </thead>

  <tbody>
  {% for entry in history_table %}

   <tr>
     <td>${{ entry.price|intcomma }}</td>
     <td>${{ entry.volume|intcomma }}</td>
     <td>${{ entry.mktcap|intcomma }}</td>
     <td>{{ entry.time|naturaltime}}</td>
   </tr>

  {% endfor %}
  </tbody>
  </table> -->


  <button type="buystock" onclick="location.href='/stocks/buystock/{{ coin_type }}/'">Buy Stock</button>
  <button type="sellstock" onclick="location.href='/stocks/sellstock/{{ coin_type }}/'">Sell Stock</button>

  {% if savedstock == None %}
    <button type="savestock" onclick="location.href='/stocks/savestock/{{ coin_type }}'">Watch Stock</button>
    {{ savedstock }}
  {% else %}
    <button type="savestock" onclick="location.href='/stocks/unsavestock/{{ coin_type }}'">Stop Watching Stock</button>
  {% endif%}
</div>
{% endblock %}
